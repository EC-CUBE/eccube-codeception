# Codeception Test Suite Configuration
#
# Suite for acceptance tests.
# Perform tests in browser using the WebDriver or PhpBrowser.
# If you need both WebDriver and PHPBrowser tests - create a separate suite.

class_name: AcceptanceTester
modules:
    enabled:
        - \Helper\Acceptance
        - Db
        - WebDriver
        - Asserts
    config:
        Db:
            dsn: 'mysql:host=localhost;dbname=eccube;charset=utf8'
            user: 'root'
            password: ''
            dump: 'tests/_data/dump.sql'
            populate: true
            cleanup: false
            reconnect: true
        WebDriver:
            host: localhost                 # Selenium ContainerのIP/hostname
            port: 4444                      # Selenium Container内部の4444portにmapしたport番号
            url: 'http://eccube.case-k.com'    # テスト対象のurl
            browser: firefox
            window_size: 1680x3000
            wait: 10
            capabilities:
                unexpectedAlertBehaviour: 'accept'

env:
    admin:
        modules:
            config:
                Db:
                    dsn: 'mysql:host=localhost;dbname=eccube;charset=utf8'
                    dump: 'tests/_data/cube1.dump.sql'
                WebDriver:
                    port: 10001
                    url: 'http://eccube.case-k.com:8881'
    front:
        modules:
            config:
                Db:
                    dsn: 'mysql:host=localhost;dbname=eccube02;charset=utf8'
                    dump: 'tests/_data/cube2.dump.sql'
                WebDriver:
                    port: 10002
                    url: 'http://eccube.case-k.com:8882'
